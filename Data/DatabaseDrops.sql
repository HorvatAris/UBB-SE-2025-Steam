-- Database Drops
USE FinalSteamDB;
    
-- Schema Related Drops    
DROP TABLE IF EXISTS UserAchievements;
DROP TABLE IF EXISTS Achievements;
DROP TABLE IF EXISTS Feature_User;
DROP TABLE IF EXISTS Features;
DROP TABLE IF EXISTS OwnedGames_Collection;
DROP TABLE IF EXISTS OwnedGames;
DROP TABLE IF EXISTS Collections;
DROP TABLE IF EXISTS Friendships;
DROP TABLE IF EXISTS UserProfiles;
DROP TABLE IF EXISTS Wallet;
DROP TABLE IF EXISTS PointsOffers
DROP TABLE IF exists PasswordResetCodes;
DROP TABLE IF EXISTS UserSessions;
DROP TABLE IF EXISTS Posts;
DROP TABLE IF EXISTS ReviewsGiven;
DROP TABLE IF EXISTS ReviewsReceived;
DROP TABLE IF EXISTS SoldGames;
DROP TABLE IF EXISTS Users;

-- Stored Procedure Related Drops
DROP PROCEDURE IF EXISTS DeleteUser;
DROP PROCEDURE IF EXISTS GetAllUsers;
DROP PROCEDURE IF EXISTS GetUserByEmailOrUsername;
DROP PROCEDURE IF EXISTS CheckUserExists;
DROP PROCEDURE IF EXISTS UpdateLastLogin;
DROP PROCEDURE IF EXISTS UpdateUser;
DROP PROCEDURE IF EXISTS CreateSession;
DROP PROCEDURE IF EXISTS DeleteSession;
DROP PROCEDURE IF EXISTS GetSessionById;
DROP PROCEDURE IF EXISTS GetUserFromSession;
DROP PROCEDURE IF EXISTS LoginUser;
DROP PROCEDURE IF EXISTS LogoutUser;
DROP PROCEDURE IF EXISTS UpdateUserProfile;
DROP PROCEDURE IF EXISTS ValidateResetCode;
DROP PROCEDURE IF EXISTS StorePasswordResetCode;
DROP PROCEDURE IF EXISTS VerifyResetCode;
DROP PROCEDURE IF EXISTS ResetPassword;
DROP PROCEDURE IF EXISTS CleanupResetCodes;
DROP PROCEDURE IF EXISTS GetCollectionById;
DROP PROCEDURE IF EXISTS GetGamesNotInCollection;
DROP PROCEDURE IF EXISTS GetAllFeatures;
DROP PROCEDURE IF EXISTS GetFeaturesByType;
DROP PROCEDURE IF EXISTS CheckFeatureOwnership;
DROP PROCEDURE IF EXISTS CheckFeaturePurchase;
DROP PROCEDURE IF EXISTS EquipFeature;
DROP PROCEDURE IF EXISTS GetAllFeatures;
DROP PROCEDURE IF EXISTS GetFeaturesByType;
DROP PROCEDURE IF EXISTS GetAllFeaturesWithOwnership;
DROP PROCEDURE IF EXISTS GetAllFeaturesWithOwnership;
DROP PROCEDURE IF EXISTS UnequipFeature;
DROP PROCEDURE IF EXISTS UnequipFeaturesByType;
DROP PROCEDURE IF EXISTS GetAllAchievements;
DROP PROCEDURE IF EXISTS GetNumberOfOwnedGames;
DROP PROCEDURE IF EXISTS GetNumberOfReviews;
DROP PROCEDURE IF EXISTS GetNumberOfSoldGames;
DROP PROCEDURE IF EXISTS GetUnlockedAchievements;
DROP PROCEDURE IF EXISTS GetUnlockedDataForAchievement;
DROP PROCEDURE IF EXISTS IsAchievementUnlocked;
DROP PROCEDURE IF EXISTS RemoveAchievement;
DROP PROCEDURE IF EXISTS dbo.AddFriend;
DROP PROCEDURE IF EXISTS AddGameToCollection;
DROP PROCEDURE IF EXISTS AddMoney;
DROP PROCEDURE IF EXISTS BuyPoints;
DROP PROCEDURE IF EXISTS BuyWithMoney;
DROP PROCEDURE IF EXISTS BuyWithPoints;
DROP PROCEDURE IF EXISTS CascadeDeleteUser;
DROP PROCEDURE IF EXISTS ChangeEmailForUserId;
DROP PROCEDURE IF EXISTS ChangePassword;
DROP PROCEDURE IF EXISTS ChangeUsername;
DROP PROCEDURE IF EXISTS CreateCollection;
DROP PROCEDURE IF EXISTS CreateUser;
DROP PROCEDURE IF EXISTS CreateUserProfile;
DROP PROCEDURE IF EXISTS CreateWallet;
DROP PROCEDURE IF EXISTS DeleteCollection;
DROP PROCEDURE IF EXISTS DeleteFriendshipsForUser;
DROP PROCEDURE IF EXISTS DeleteWallet;
DROP PROCEDURE IF EXISTS GetAchievementId;
DROP PROCEDURE IF EXISTS GetAllCollections;
DROP PROCEDURE IF EXISTS GetAllCollectionsForUser;
DROP PROCEDURE IF EXISTS GetAllFriendships;
DROP PROCEDURE IF EXISTS GetAllOwnedGames;
DROP PROCEDURE IF EXISTS GetAllPointsOffers;
DROP PROCEDURE IF EXISTS GetFriendsForUser;
DROP PROCEDURE IF EXISTS GetFriendshipCountForUser;
DROP PROCEDURE IF EXISTS GetGamesInCollection;
DROP PROCEDURE IF EXISTS GetOwnedGameById;
DROP PROCEDURE IF EXISTS GetPointsOfferByID;
DROP PROCEDURE IF EXISTS GetPrivateCollectionsForUser;
DROP PROCEDURE IF EXISTS GetPublicCollectionsForUser;
DROP PROCEDURE IF EXISTS GetUserByEmail;
DROP PROCEDURE IF EXISTS GetUserById;
DROP PROCEDURE IF EXISTS GetUserByUsername;
DROP PROCEDURE IF EXISTS GetUserProfileByUserId;
DROP PROCEDURE IF EXISTS GetWalletById;
DROP PROCEDURE IF EXISTS GetWalletByUserId;
DROP PROCEDURE IF EXISTS MakeCollectionPrivate;
DROP PROCEDURE IF EXISTS MakeCollectionPublic;
DROP PROCEDURE IF EXISTS RemoveFriend;
DROP PROCEDURE IF EXISTS RemoveGameFromCollection;
DROP PROCEDURE IF EXISTS UpdateCollection;
DROP PROCEDURE IF EXISTS UpdateUserProfileBio;
DROP PROCEDURE IF EXISTS UpdateUserProfilePicture;
DROP PROCEDURE IF EXISTS UpdateAchievementIcon;
DROP PROCEDURE IF EXISTS WinPoints;
DROP PROCEDURE IF EXISTS CleanupExpiredSessions;
DROP PROCEDURE IF EXISTS GetAchievementIdByName;
DROP PROCEDURE IF EXISTS GetNumberOfPosts;
DROP PROCEDURE IF EXISTS GetNumberOfReviewsGiven;
DROP PROCEDURE IF EXISTS GetNumberOfReviewsReceived;
DROP PROCEDURE IF EXISTS GetUserFeatures;
DROP PROCEDURE IF EXISTS InsertAchievements;
DROP PROCEDURE IF EXISTS UnlockAchievement;
DROP PROCEDURE IF EXISTS GetUserCreatedAt;
DROP PROCEDURE IF EXISTS IsUserDeveloper;
DROP PROCEDURE IF EXISTS IsAchievementsTableEmpty;